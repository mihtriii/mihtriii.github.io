:root {
  --glass-bg: rgba(255,255,255,0.6);
  --glass-border: rgba(0,0,0,0.06);
  --brand-primary: #0d6efd;
  --brand-secondary: #6f42c1;
  --text-secondary: #6c757d;
}

[data-bs-theme="dark"] {
  --glass-bg: rgba(0,0,0,0.3);
  --glass-border: rgba(255,255,255,0.08);
  --text-secondary: #adb5bd;
}

.glass {
  backdrop-filter: saturate(180%) blur(8px);
  background: var(--glass-bg) !important;
}

.card-hover:hover {
  box-shadow: 0 6px 20px rgba(0,0,0,0.1);
  transform: translateY(-1px);
  transition: all .2s ease;
}

.gradient-text {
  background: linear-gradient(90deg, var(--brand-primary), var(--brand-secondary));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

.avatar-frame .avatar { border-radius: 50%; display: block; width: 100%; height: 100%; object-fit: cover; }

.page-hero {
  border: 1px solid var(--glass-border);
  border-radius: .75rem;
}

.section + .section { margin-top: 1.25rem; }

/* Elevation */
.card-elevate { box-shadow: inset 0 0 0 1px var(--glass-border), 0 10px 30px rgba(0,0,0,.06); }
[data-bs-theme="dark"] .card-elevate { box-shadow: inset 0 0 0 1px var(--glass-border), 0 10px 20px rgba(0,0,0,.35); }

/* Sidebar polish */
.sidebar .profile-card .avatar-frame { position: relative; display: inline-grid; place-items: center; width: 64px; height: 64px; border-radius: 50%; padding: 0; background: transparent; border: 1px solid var(--glass-border); box-shadow: none; overflow: hidden; }
.sidebar .profile-card .avatar-frame .avatar { display: block; width: 100%; height: 100%; object-fit: cover; object-position: center; border: none; border-radius: 50%; background: transparent; }
.sidebar .letter { letter-spacing: .06em; }

/* Spy list improvements */
.spy-list { position: relative; }
.spy-item { position: relative; display: flex; align-items: center; gap: .5rem; padding: .35rem .5rem .35rem .75rem; border-radius: .5rem; color: inherit; text-decoration: none; opacity: .85; transition: background .15s ease, opacity .15s ease; }
.spy-item .dot { width: 6px; height: 6px; border-radius: 50%; background: var(--brand-primary); opacity: .5; }
.spy-item:hover { background: rgba(0,0,0,.04); opacity: 1; }
[data-bs-theme="dark"] .spy-item:hover { background: rgba(255,255,255,.05); }
.spy-item.active { opacity: 1; font-weight: 600; }
.spy-item.active .dot { background: linear-gradient(90deg, var(--brand-primary), var(--brand-secondary)); opacity: 1; }
.spy-item.active::before { content: ''; position: absolute; left: -8px; top: 0; bottom: 0; width: 3px; border-radius: 3px; background: linear-gradient(180deg, var(--brand-primary), var(--brand-secondary)); }

/* Social grid */
.social-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: .5rem; }
.icon-btn { height: 36px; width: 36px; border-radius: 999px; display: inline-flex; align-items: center; justify-content: center; }
.icon-btn i { transition: color .15s ease; }
.icon-btn[data-brand="linkedin"]:hover i { color: #0a66c2; }
.icon-btn[data-brand="github"]:hover i { color: #181717; }
[data-bs-theme="dark"] .icon-btn[data-brand="github"]:hover i { color: #f0f6fc; }
.icon-btn[data-brand="email"]:hover i { color: var(--brand-primary); }
.icon-btn[data-brand="scholar"]:hover i { color: #4285f4; }

/* Mini GitHub stats */
.mini-stats { display: flex; gap: .5rem; }
.stat-chip { display: inline-flex; align-items: center; gap: .25rem; font-size: .8125rem; padding: .2rem .5rem; border-radius: .5rem; border: 1px solid var(--glass-border); background: var(--glass-bg); }

/* Smooth scroll and selection */
html { scroll-behavior: smooth; }
::selection { background: rgba(13,110,253,0.25); }

/* Scroll progress */
.scroll-progress {
  position: fixed;
  top: 0; left: 0; height: 3px;
  background: linear-gradient(90deg, var(--brand-primary), var(--brand-secondary));
  z-index: 1100;
  transition: width .1s ease-out;
}

/* Particles canvas in hero */
.hero-with-bg { background: radial-gradient(1200px 600px at 20% -20%, rgba(13,110,253,.15), transparent), radial-gradient(1000px 400px at 120% 20%, rgba(111,66,193,.15), transparent); }
.particles-canvas { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; opacity: .55; }

/* Reveal animations */
[data-animate] { opacity: 0; transform: translateY(12px); transition: opacity .6s ease, transform .6s ease; will-change: opacity, transform; }
[data-animate].is-visible { opacity: 1; transform: translateY(0); }

@media (prefers-reduced-motion: reduce) {
  [data-animate] { opacity: 1 !important; transform: none !important; transition: none !important; }
}

/* Typewriter */
.typewriter .caret { display: inline-block; width: 1ch; color: var(--text-secondary); animation: blink 1s step-end infinite; }
@keyframes blink { 50% { opacity: 0; } }

/* Tilt effect */
.tilt { transition: transform .12s ease-out; transform-style: preserve-3d; will-change: transform; }
.tilt .card { background-image: radial-gradient(circle at var(--tilt-glare-x, 50%) var(--tilt-glare-y, 50%), rgba(255,255,255,0.08), transparent 35%); }

/* Badges microinteraction */
.badge-glow { background: linear-gradient(90deg, var(--brand-primary), var(--brand-secondary)); color: #fff; box-shadow: 0 0 0 rgba(13,110,253,0); animation: glow 3s ease-in-out infinite; }
@keyframes glow { 0%,100% { box-shadow: 0 0 0 rgba(13,110,253,0);} 50% { box-shadow: 0 0 14px rgba(13,110,253,0.35);} }
.badge-pulse { position: relative; overflow: hidden; }
.badge-pulse::after { content: ''; position: absolute; inset: 0; background: radial-gradient(circle at 120% -20%, rgba(255,255,255,0.4), transparent 45%); transform: translateX(-120%); animation: shine 5s linear infinite; }
@keyframes shine { 0% { transform: translateX(-120%);} 100% { transform: translateX(120%);} }

/* Timeline */
.timeline { position: relative; margin-left: .75rem; padding-left: 1.25rem; }
.timeline::before { content: ''; position: absolute; top: 0; bottom: 0; left: 0; width: 2px; background: var(--glass-border); }
.timeline-item { position: relative; margin-bottom: 1rem; }
.timeline-dot { position: absolute; left: -5px; top: .3rem; width: 10px; height: 10px; border-radius: 50%; background: var(--brand-primary); box-shadow: 0 0 0 3px rgba(13,110,253,0.15); }
.timeline-content { padding-left: .25rem; }

/* Toast */
.toast-container { position: fixed; right: 1rem; bottom: 1rem; z-index: 1100; opacity: 0; transform: translateY(8px); transition: all .2s ease; }
.toast-container.show { opacity: 1; transform: translateY(0); }
.toast-item { background: var(--glass-bg); border: 1px solid var(--glass-border); backdrop-filter: blur(8px); border-radius: .5rem; padding: .5rem .75rem; box-shadow: 0 4px 20px rgba(0,0,0,.12); }

/* ScrollSpy list */
.spy-list a { color: inherit; text-decoration: none; opacity: .7; }
.spy-list a.active { opacity: 1; font-weight: 600; }
.spy-list .dot { width: 6px; height: 6px; border-radius: 50%; background: var(--brand-primary); opacity: .6; }
.spy-list a.active .dot { opacity: 1; }

/* Project preview overlay */
.project-card { position: relative; overflow: hidden; }
.project-card .project-preview { position: absolute; inset: 0; opacity: 0; transition: opacity .25s ease; background: radial-gradient(circle at 30% 20%, rgba(13,110,253,.1), transparent 40%), radial-gradient(circle at 80% 80%, rgba(111,66,193,.12), transparent 40%); }
.project-card:hover .project-preview { opacity: 1; }
.project-card .project-preview img { width: 100%; height: 100%; object-fit: cover; opacity: .85; }

/* Portrait in hero */
.portrait { max-height: 360px; height: auto; width: auto; position: relative; z-index: 1; }
@media (max-width: 575.98px) { .portrait { max-height: 260px; } }

/* Soft vignette behind portrait */
.portrait-wrap { position: relative; display: inline-block; }
.portrait-wrap::before { content: ''; position: absolute; inset: -12%; z-index: 0; border-radius: 20px; filter: blur(26px); opacity: .85;
  background:
    radial-gradient(closest-side, rgba(13,110,253,.18), transparent 60%),
    radial-gradient(closest-side, rgba(111,66,193,.18), transparent 65%);
}

/* Blur-up image loading */
.blur-up { filter: blur(12px); transform: scale(1.02); opacity: .9; transition: filter .5s ease, transform .5s ease, opacity .4s ease; }
.blur-up.loaded { filter: blur(0); transform: none; opacity: 1; }

/* MDX prose styles */
.prose { line-height: 1.7; }
.prose h1, .prose h2, .prose h3 { margin-top: 1.2em; margin-bottom: .5em; }
.prose p { margin-bottom: 1em; color: var(--text-secondary); }
.prose code { background: rgba(0,0,0,.06); padding: .2em .35em; border-radius: .35em; }
[data-bs-theme="dark"] .prose code { background: rgba(255,255,255,.06); }
.prose pre { background: rgba(0,0,0,.06); padding: 1em; border-radius: .5em; overflow: auto; }
[data-bs-theme="dark"] .prose pre { background: rgba(255,255,255,.06); }
.prose blockquote { border-left: 3px solid var(--brand-primary); padding-left: 1em; color: var(--text-secondary); margin: 1em 0; }

/* Social grid responsive */
@media (max-width: 575.98px) {
  .social-grid { grid-template-columns: repeat(3, 1fr); }
}
.icon-row { display: flex; gap: .5rem; flex-wrap: wrap; }
.icon-btn { width: 38px; height: 38px; border-radius: 999px; display: inline-flex; align-items: center; justify-content: center; }
.icon-btn i, .icon-btn span { font-size: 1rem; }
.icon-k { font-weight: 700; letter-spacing: .5px; background: linear-gradient(90deg, var(--brand-primary), var(--brand-secondary)); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; }
